var L=Object.defineProperty;var k=(i,e,t)=>e in i?L(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var h=(i,e,t)=>(k(i,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const v of r.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&a(v)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}})();const s=document.body;s.innerHTML="<h1>smartfarm</h1>";let m=0;function l(i,e){const t=document.createElement(i);return t.textContent=e,t}let F=l("span","highscore: 0");s.appendChild(F);let d=100;const g=l("div","bank: "+d);s.appendChild(g);s.appendChild(l("p","Feed your animals:"));const x="Futtr\u{1F356}",E="Futta\u{1F966}",c=l("button",x),u=l("button",E);c.id="feedbutton";u.id="feedbutton2";const b=l("div","");b.id="animals";s.appendChild(b);s.appendChild(c);s.appendChild(u);const w=l("div","");s.appendChild(w);const f=l("button","verkaufen");f.id="feedbutton";f.style.background="grey";s.appendChild(f);const p=["\u{1F42D}","\u{1F439}","\u{1F431}","\u{1F436}","\u{1F43B}","\u{1F42F}","\u{1F981}","\u{1F43C}","\u{1F438}","\u{1F432}"];class C{constructor(e=0){h(this,"type");h(this,"element");h(this,"alive",!0);this.type=e,this.element=l("div",p[e]),this.element.className="animal",setTimeout(()=>{this.element.className="animal active"},1)}remove(){this.element.className="dead",setTimeout(()=>this.element.remove(),1e3),this.alive=!1}worth(){return 2**this.type}evolve(e){let t=Math.random();if(console.log(t),t<e)return this.remove();if(t>1-e){if(Math.random()>.5&&this.type+1<p.length){this.type=Math.min(o.length-1,this.type+1),this.element.textContent=p[this.type];return}let a=new C(this.type);this.element.insertAdjacentElement("afterend",a.element),o.push(a)}}}let o=[];function y(i=.2){if(navigator==null||navigator.vibrate(100),o.length==0){o=[new C],b.appendChild(o[0].element),c.textContent=x,u.style.display="inline";return}o.forEach(e=>e.evolve(i)),o=o.filter(e=>e.alive),o.length==0&&(c.textContent="neustart",u.style.display="none",d-=1,g.textContent="bank: "+d)}f.addEventListener("click",()=>{navigator==null||navigator.vibrate(200);let i=o.reduce((e,t)=>e+t.worth(),0);i>m&&(m=Math.max(m,i),F.textContent="highscore: "+o.reduce((e,t)=>e+p[t.type],""),alert("new highscore: "+m)),d+=i-1,g.textContent="bank: "+d;for(let e of o)e.remove();o=[],y()});y();c.addEventListener("click",()=>{y(.5)});u.addEventListener("click",()=>y(.1));
